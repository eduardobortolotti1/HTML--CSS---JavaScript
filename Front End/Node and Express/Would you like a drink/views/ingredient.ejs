<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Would you like a drink?</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles/common.css" />
    <link rel="stylesheet" href="./styles/navbar.css" />
    <link rel="stylesheet" href="./styles/button-menu.css" />
    <link rel="stylesheet" href="./styles/footer.css" />
    <link rel="stylesheet" href="./styles/item-list.css" />
    <style>
      .ingredient {
        display: flex;
        width: 300px;
        height: auto;
        text-align: center;
      }

      .ingredient img {
        height: 100%;
        width: auto;
      }

      .button-menu {
        margin-left: auto;
        margin-right: auto;
      }
    </style>
  </head>

  <body>
    <main>
      <%- include('partials/navbar.ejs') %>
      
      <div class="main-content container px-5">
        <form action="/ingredient" method="POST" class="pt-5">
          <label for="search_name">Search:</label>
          <input type="text" id="search_name" name="search_name" required />
          <input type="submit" value="Submit" class="btn btn-primary" />
        </form>

        <% if (locals.search_name) { %>
          
        <% } %>

        <% if (locals.ingredientInfo) { %>
          <div class="row ingredient py-5 mx-auto">
            <img src="<%= "https://www.thecocktaildb.com/images/ingredients/" +
            ingredientInfo.strIngredient + ".png" %>" alt="<%
            ingredientInfo.strIngredient %>">
            <h2><%= ingredientInfo.strIngredient %></h2>
          </div>
        <% } %>
       
        <% if (locals.ingredientInfo) { %>
        <!-- filtered_drinks_search -->
          <div class="container p-0">
            <div class="row item-menu g-0 mx-auto">
              <% for (let obj of filtered_drinks_search) { %>
                <div class="item">
                  <a href="<%= "/drink?idDrink=" + obj.idDrink %>"><img src="<%= obj.strDrinkThumb %>" alt="<%= obj.strDrink %>" /></a>
                  <p id="item-name"><%= obj.strDrink %></p>
                </div>
              <% } %>
            </div>
          </div>
          <% } %>

      <%- include('partials/button-menu.ejs') %> <%-
      include('partials/footer.ejs') %>
    </main>
  </body>
</html>
